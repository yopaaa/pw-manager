<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('./template/head.ejs') %>
</head>

<body>
  <br /><br /><br />

  <!-- table password -->
  <details>
    <summary>Show password</summary>

    <br />
    <div>
      <!-- table navigation -->
      <div style="
            display: flex;
            flex-direction: row-reverse;
            justify-content: space-around;
            overflow-x: hidden;
          ">
        <div style="display: flex; gap: 30px">
          <!-- LOGOUT -->
          <form action="/" method="post">
            <button download class="btn btn-danger" type="submit">
              Log out
            </button>
          </form>

          <!-- BACKUP -->
          <form action="/Actions/backup" method="post">
            <button download class="btn btn-info" type="submit">
              Back UP
            </button>
          </form>

          <!-- RESTORE -->
          <form action="/Actions/restore" method="post" encType="multipart/form-data">
            <input type="file" name="restore" id="restore" onchange="form.submit()"
              style="z-index: -100; opacity: 0; position: absolute" />
            <label for="restore" class="btn btn-primary" style="cursor: pointer">Restore</label>
          </form>
        </div>

        <!-- SEARCH -->
        <nav style="padding: 0; display: flex;">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="searchBar"/>
        </nav>
      </div>

      <br /><br /><br />

    <div style="width: 100%; overflow: auto;">
      <table id="keywords" cellspacing="0" cellpadding="0">
        <thead>
          <tr>
            <th><span>Time</span></th>
            <th><span>Name</span></th>
            <th><span>Site</span></th>
            <th><span>Email</span></th>
            <th><span>Password</span></th>
            <th><span>Action</span></th>
          </tr>
        </thead>

        <tbody class="data-table"></tbody>
      </table>
    </div>
      
    </div>
  </details>

  <br />
  <!-- FORM  -->
  <center>
    <div class="formmm">
      <form action="/actions/new" method="post">
        <!-- name -->
        <div class="form-group row">
          <label for="name" class="col-sm-2 col-form-label">Name</label>
          <div class="col-sm-10">
            <input type="text" name="user_name" id="name" class="form-control" placeholder="name" required />
          </div>
        </div>

        <!-- email -->
        <div class="form-group row">
          <label for="email" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input type="email" name="email" id="email" class="form-control" placeholder="email" required />
          </div>
        </div>

        <!-- site -->
        <div class="form-group row">
          <label for="site" class="col-sm-2 col-form-label">Website</label>
          <div class="col-sm-10">
            <input type="text" name="site" id="site" class="form-control" placeholder="site" />
          </div>
        </div>

        <!-- password -->
        <div class="form-group row">
          <label for="password" class="col-sm-2 col-form-label">Password</label>
          <div class="col-sm-10" style="display: flex">
            <input type="text" name="password" id="password" class="form-control" placeholder="password" />
            <button id="generate" type="button" class="btn btn-info">
              Rand
            </button>
          </div>
        </div>

        <!-- notes -->
        <div class="form-group row">
          <label for="note" class="col-sm-2 col-form-label">Notes</label>
          <div class="col-sm-10">
            <textarea name="notes" id="note" style="width: 100%" rows="5"></textarea>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Add data</button>
      </form>
    </div>
  </center>

  <br /><br /><br /><br /><br /><br /><br />
  <footer>
    <div>
      <center>
        <p>Folder path : <%= path %>
        </p>
        <p>ip address : <%= ip %>
        </p>
      </center>
    </div>
  </footer>
  <script>
    function tooglePass(params) {
      let element = document.getElementById(params)
      if (element.type == 'password') {
        element.type = 'text'
      } else {
        element.type = 'password'
      }
    }

  </script>

  <script src="js/data_tables.js"></script>
  <script src="js/searchBar.js"></script>
  <script src="js/random_password.js"></script>
</body>

</html>